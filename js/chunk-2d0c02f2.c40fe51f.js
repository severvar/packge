(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c02f2"],{4165:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-tree-select",{staticStyle:{width:"100%"},attrs:{allowClear:"",labelInValue:"",disabled:e.disabled,dropdownStyle:{maxHeight:"400px",overflow:"auto"},placeholder:e.placeholder,loadData:e.asyncLoadTreeData,value:e.treeValue,treeData:e.treeData},on:{change:e.onChange,search:e.onSearch}})},a=[],o=r("0fea");function l(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,l=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return l=e.done,e},e:function(e){i=!0,o=e},f:function(){try{l||null==r.return||r.return()}finally{if(i)throw o}}}}function i(e){return s(e)||c(e)||d(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"===typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?f(e,t):void 0}}function c(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function s(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h={name:"JTreeDict",data:function(){return{treeData:[],treeValue:null,url_root:"/sys/category/loadTreeRoot",url_children:"/sys/category/loadTreeChildren",url_view:"/sys/category/loadOne"}},props:{value:{type:String,required:!1},placeholder:{type:String,default:"请选择",required:!1},parentCode:{type:String,default:"",required:!1},field:{type:String,default:"id",required:!1},root:{type:Object,required:!1,default:function(){return{pid:"0"}}},async:{type:Boolean,default:!1,required:!1},disabled:{type:Boolean,default:!1,required:!1}},watch:{root:{handler:function(e){},deep:!0},parentCode:{handler:function(){this.loadRoot()}},value:{handler:function(){this.loadViewInfo()}}},created:function(){this.loadRoot(),this.loadViewInfo()},model:{prop:"value",event:"change"},methods:{loadViewInfo:function(){var e=this;if(this.value&&"0"!=this.value){var t={field:this.field,val:this.value};Object(o["c"])(this.url_view,t).then((function(t){t.success&&(e.treeValue={value:e.value,label:t.result.name})}))}else this.treeValue=null},loadRoot:function(){var e=this,t={async:this.async,pcode:this.parentCode};Object(o["c"])(this.url_root,t).then((function(t){t.success?(e.handleTreeNodeValue(t.result),e.treeData=i(t.result)):e.$message.error(t.message)}))},asyncLoadTreeData:function(e){var t=this;return new Promise((function(r){if(t.async)if(e.$vnode.children)r();else{var n=e.$vnode.key,a={pid:n};Object(o["c"])(t.url_children,a).then((function(e){e.success&&(t.handleTreeNodeValue(e.result),t.addChildren(n,e.result,t.treeData),t.treeData=i(t.treeData)),r()}))}else r()}))},addChildren:function(e,t,r){if(r&&r.length>0){var n,a=l(r);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(o.key==e){t&&0!=t.length?o.children=t:o.leaf=!0;break}this.addChildren(e,t,o.children)}}catch(i){a.e(i)}finally{a.f()}}},handleTreeNodeValue:function(e){var t,r="code"==this.field?"code":"key",n=l(e);try{for(n.s();!(t=n.n()).done;){var a=t.value;a.value=a[r],a.isLeaf=!!a.leaf,a.children&&a.children.length>0&&this.handleTreeNodeValue(a.children)}}catch(o){n.e(o)}finally{n.f()}},onChange:function(e){e?this.$emit("change",e.value):this.$emit("change",""),this.treeValue=e},onSearch:function(e){},getCurrTreeData:function(){return this.treeData}}},y=h,v=r("2877"),p=Object(v["a"])(y,n,a,!1,null,null,null);t["default"]=p.exports}}]);