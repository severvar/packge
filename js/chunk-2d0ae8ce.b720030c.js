(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ae8ce"],{"0b17":function(a,t,e){"use strict";e.r(t);var l=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("a-card",{attrs:{bordered:!1}},[e("j-modal",{staticStyle:{top:"5%",height:"100%","overflow-y":"hidden"},attrs:{title:a.title,width:a.width,visible:a.visible,maskClosable:!1,keyboard:!1,forceRender:!0,wrapClassName:"ant-modal-cust-warp"},on:{cancel:a.handleCancel}},[e("template",{slot:"footer"},["收预付款"===a.financialType?e("a-button",{directives:[{name:"print",rawName:"v-print",value:"#advanceInPrint",expression:"'#advanceInPrint'"}],attrs:{ghost:"",type:"primary"}},[a._v("打印")]):a._e(),"转账"===a.financialType?e("a-button",{directives:[{name:"print",rawName:"v-print",value:"#giroPrint",expression:"'#giroPrint'"}],attrs:{ghost:"",type:"primary"}},[a._v("打印")]):a._e(),"收入"===a.financialType?e("a-button",{directives:[{name:"print",rawName:"v-print",value:"#itemInPrint",expression:"'#itemInPrint'"}],attrs:{ghost:"",type:"primary"}},[a._v("打印")]):a._e(),"支出"===a.financialType?e("a-button",{directives:[{name:"print",rawName:"v-print",value:"#itemOutPrint",expression:"'#itemOutPrint'"}],attrs:{ghost:"",type:"primary"}},[a._v("打印")]):a._e(),"收款"===a.financialType?e("a-button",{directives:[{name:"print",rawName:"v-print",value:"#moneyInPrint",expression:"'#moneyInPrint'"}],attrs:{ghost:"",type:"primary"}},[a._v("打印")]):a._e(),"付款"===a.financialType?e("a-button",{directives:[{name:"print",rawName:"v-print",value:"#moneyOutPrint",expression:"'#moneyOutPrint'"}],attrs:{ghost:"",type:"primary"}},[a._v("打印")]):a._e(),e("a-button",{key:"back",on:{click:a.handleCancel}},[a._v("取消")])],1),e("a-form",{attrs:{form:a.form}},["收预付款"===a.financialType?[e("section",{ref:"print",attrs:{id:"advanceInPrint"}},[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"付款会员"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:""}}),a._v("\n                "+a._s(a.model.organName)+"\n              ")],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"经手人"}},[a._v("\n                "+a._s(a.model.handsPersonName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据日期"}},[a._v("\n                "+a._s(a.model.billTimeStr)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据编号"}},[a._v("\n                "+a._s(a.model.billNo)+"\n              ")])],1)],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",pagination:!1,columns:a.advanceInColumns,dataSource:a.dataSource}}),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{lg:24,md:24,sm:24}},[e("a-form-item",{staticStyle:{padding:"20px 10px"},attrs:{labelCol:a.labelCol,wrapperCol:{xs:{span:24},sm:{span:24}},label:""}},[a._v("\n                "+a._s(a.model.remark)+"\n              ")])],1)],1),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"合计金额"}},[a._v("\n                "+a._s(a.model.totalPrice)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"收款金额"}},[a._v("\n                "+a._s(a.model.changeAmount)+"\n              ")])],1),e("a-col",{attrs:{span:6}}),e("a-col",{attrs:{span:6}}),e("a-col",{attrs:{span:6}})],1)],1)]:a._e(),"转账"===a.financialType?[e("section",{ref:"print",attrs:{id:"giroPrint"}},[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"经手人"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:""}}),a._v("\n                "+a._s(a.model.handsPersonName)+"\n              ")],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据日期"}},[a._v("\n                "+a._s(a.model.billTimeStr)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据编号"}},[a._v("\n                "+a._s(a.model.billNo)+"\n              ")])],1),e("a-col",{attrs:{span:6}})],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",pagination:!1,columns:a.giroColumns,dataSource:a.dataSource}}),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{lg:24,md:24,sm:24}},[e("a-form-item",{staticStyle:{padding:"20px 10px"},attrs:{labelCol:a.labelCol,wrapperCol:{xs:{span:24},sm:{span:24}},label:""}},[a._v("\n                "+a._s(a.model.remark)+"\n              ")])],1)],1),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"付款账户"}},[a._v("\n                "+a._s(a.model.accountName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"实付金额"}},[a._v("\n                "+a._s(a.model.changeAmount)+"\n              ")])],1),e("a-col",{attrs:{span:6}}),e("a-col",{attrs:{span:6}})],1)],1)]:a._e(),"收入"===a.financialType?[e("section",{ref:"print",attrs:{id:"itemInPrint"}},[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"往来单位"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:""}}),a._v("\n                "+a._s(a.model.organName)+"\n              ")],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"经手人"}},[a._v("\n                "+a._s(a.model.handsPersonName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据日期"}},[a._v("\n                "+a._s(a.model.billTimeStr)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据编号"}},[a._v("\n                "+a._s(a.model.billNo)+"\n              ")])],1)],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",pagination:!1,columns:a.itemInColumns,dataSource:a.dataSource}}),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{lg:24,md:24,sm:24}},[e("a-form-item",{staticStyle:{padding:"20px 10px"},attrs:{labelCol:a.labelCol,wrapperCol:{xs:{span:24},sm:{span:24}},label:""}},[a._v("\n                "+a._s(a.model.remark)+"\n              ")])],1)],1),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"收入账户"}},[a._v("\n                "+a._s(a.model.accountName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"收入金额"}},[a._v("\n                "+a._s(a.model.changeAmount)+"\n              ")])],1),e("a-col",{attrs:{span:6}}),e("a-col",{attrs:{span:6}})],1)],1)]:a._e(),"支出"===a.financialType?[e("section",{ref:"print",attrs:{id:"itemOutPrint"}},[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"往来单位"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:""}}),a._v("\n                "+a._s(a.model.organName)+"\n              ")],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"经手人"}},[a._v("\n                "+a._s(a.model.handsPersonName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据日期"}},[a._v("\n                "+a._s(a.model.billTimeStr)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据编号"}},[a._v("\n                "+a._s(a.model.billNo)+"\n              ")])],1)],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",pagination:!1,columns:a.itemOutColumns,dataSource:a.dataSource}}),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{lg:24,md:24,sm:24}},[e("a-form-item",{staticStyle:{padding:"20px 10px"},attrs:{labelCol:a.labelCol,wrapperCol:{xs:{span:24},sm:{span:24}},label:""}},[a._v("\n                "+a._s(a.model.remark)+"\n              ")])],1)],1),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"支出账户"}},[a._v("\n                "+a._s(a.model.accountName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"支出金额"}},[a._v("\n                "+a._s(a.model.changeAmount)+"\n              ")])],1),e("a-col",{attrs:{span:6}}),e("a-col",{attrs:{span:6}})],1)],1)]:a._e(),"收款"===a.financialType?[e("section",{ref:"print",attrs:{id:"moneyInPrint"}},[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"客户"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:""}}),a._v("\n                "+a._s(a.model.organName)+"\n              ")],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"经手人"}},[a._v("\n                "+a._s(a.model.handsPersonName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据日期"}},[a._v("\n                "+a._s(a.model.billTimeStr)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据编号"}},[a._v("\n                "+a._s(a.model.billNo)+"\n              ")])],1)],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",pagination:!1,columns:a.moneyInColumns,dataSource:a.dataSource},scopedSlots:a._u([{key:"numberCustomRender",fn:function(t,l){return e("span",{},[e("a",{on:{click:function(t){return a.myHandleDetail(l)}}},[a._v(a._s(l.billNumber))])])}}],null,!1,2876634935)}),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{lg:24,md:24,sm:24}},[e("a-form-item",{staticStyle:{padding:"20px 10px"},attrs:{labelCol:a.labelCol,wrapperCol:{xs:{span:24},sm:{span:24}},label:""}},[a._v("\n                "+a._s(a.model.remark)+"\n              ")])],1)],1),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"收款账户"}},[a._v("\n                "+a._s(a.model.accountName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"合计收款"}},[a._v("\n                "+a._s(a.model.totalPrice)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"优惠金额"}},[a._v("\n                "+a._s(a.model.discountMoney)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"实际收款"}},[a._v("\n                "+a._s(a.model.changeAmount)+"\n              ")])],1)],1)],1)]:a._e(),"付款"===a.financialType?[e("section",{ref:"print",attrs:{id:"moneyOutPrint"}},[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"供应商"}},[e("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["id"],expression:"['id']"}],attrs:{hidden:""}}),a._v("\n                "+a._s(a.model.organName)+"\n              ")],1)],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"经手人"}},[a._v("\n                "+a._s(a.model.handsPersonName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据日期"}},[a._v("\n                "+a._s(a.model.billTimeStr)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"单据编号"}},[a._v("\n                "+a._s(a.model.billNo)+"\n              ")])],1)],1),e("a-table",{ref:"table",attrs:{size:"middle",bordered:"",rowKey:"id",pagination:!1,columns:a.moneyOutColumns,dataSource:a.dataSource}}),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{lg:24,md:24,sm:24}},[e("a-form-item",{staticStyle:{padding:"20px 10px"},attrs:{labelCol:a.labelCol,wrapperCol:{xs:{span:24},sm:{span:24}},label:""}},[a._v("\n                "+a._s(a.model.remark)+"\n              ")])],1)],1),e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"付款账户"}},[a._v("\n                "+a._s(a.model.accountName)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"合计付款"}},[a._v("\n                "+a._s(a.model.totalPrice)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"优惠金额"}},[a._v("\n                "+a._s(a.model.discountMoney)+"\n              ")])],1),e("a-col",{attrs:{span:6}},[e("a-form-item",{attrs:{labelCol:a.labelCol,wrapperCol:a.wrapperCol,label:"实际付款"}},[a._v("\n                "+a._s(a.model.changeAmount)+"\n              ")])],1)],1)],1)]:a._e(),a.fileList.length>0?[e("a-row",{staticClass:"form-row",attrs:{gutter:24}},[e("a-col",{attrs:{span:12}},[e("a-form-item",{attrs:{labelCol:{xs:{span:24},sm:{span:3}},wrapperCol:{xs:{span:24},sm:{span:21}},label:"附件"}},[e("ul",{staticStyle:{"list-style-type":"none"}},a._l(a.fileList,(function(t,l){return e("li",{key:l},[e("a",{attrs:{href:t.url,target:"_blank"}},[a._v(a._s(t.name))])])})),0)])],1),e("a-col",{attrs:{span:12}})],1)]:a._e()],2)],2),e("bill-detail",{ref:"modalDetail"})],1)},r=[],o=e("88bc"),s=e.n(o),n=e("9be9"),i=e("0fea"),p=e("4ec3"),m={name:"FinancialDetail",components:{BillDetail:n["default"]},data:function(){return{title:"详情",width:"1200px",visible:!1,model:{},financialType:"",fileList:[],labelCol:{xs:{span:24},sm:{span:6}},wrapperCol:{xs:{span:24},sm:{span:16}},form:this.$form.createForm(this),loading:!1,dataSource:[],url:{detailList:"/accountItem/getDetailList"},advanceInColumns:[{title:"账户名称",dataIndex:"accountName",width:"30%"},{title:"金额",dataIndex:"eachAmount",width:"30%"},{title:"备注",dataIndex:"remark",width:"30%"}],giroColumns:[{title:"账户名称",dataIndex:"accountName",width:"30%"},{title:"金额",dataIndex:"eachAmount",width:"30%"},{title:"备注",dataIndex:"remark",width:"30%"}],itemInColumns:[{title:"收入项目",dataIndex:"inOutItemName",width:"30%"},{title:"金额",dataIndex:"eachAmount",width:"30%"},{title:"备注",dataIndex:"remark",width:"30%"}],itemOutColumns:[{title:"支出项目",dataIndex:"inOutItemName",width:"30%"},{title:"金额",dataIndex:"eachAmount",width:"30%"},{title:"备注",dataIndex:"remark",width:"30%"}],moneyInColumns:[{title:"销售单据编号",dataIndex:"billNumber",width:"20%",scopedSlots:{customRender:"numberCustomRender"}},{title:"应收欠款",dataIndex:"needDebt",width:"10%"},{title:"已收欠款",dataIndex:"finishDebt",width:"10%"},{title:"本次收款",dataIndex:"eachAmount",width:"10%"},{title:"备注",dataIndex:"remark",width:"20%"}],moneyOutColumns:[{title:"采购单据编号",dataIndex:"billNumber",width:"20%"},{title:"应付欠款",dataIndex:"needDebt",width:"10%"},{title:"已付欠款",dataIndex:"finishDebt",width:"10%"},{title:"本次付款",dataIndex:"eachAmount",width:"10%"},{title:"备注",dataIndex:"remark",width:"20%"}]}},created:function(){},methods:{show:function(a,t){var e=this;this.financialType=t;var l=a.fileName;if(l){var r=l.split(",");this.fileList=[];for(var o=0;o<r.length;o++){var n={};n.name=r[o].replace("financial/",""),n.url=window._CONFIG["domianURL"]+"/systemConfig/static/"+r[o],this.fileList.push(n)}}else this.fileList=[];this.visible=!0,this.model=Object.assign({},a),this.$nextTick((function(){e.form.setFieldsValue(s()(e.model,"id"))}));var i={headerId:this.model.id},p=(this.readOnly,this.url.detailList);this.requestSubTableData(p,i)},requestSubTableData:function(a,t,e){var l=this;this.loading=!0,Object(i["c"])(a,t).then((function(a){a&&200===a.code&&(l.dataSource=a.data.rows,"function"===typeof e&&e(a))})).finally((function(){l.loading=!1}))},handleCancel:function(){this.close()},close:function(){this.$emit("close"),this.visible=!1},myHandleDetail:function(a){var t=this;Object(p["V"])({number:a.billNumber}).then((function(a){a&&200===a.code&&(t.$refs.modalDetail.show(a.data,a.data.subType+a.data.type),t.$refs.modalDetail.title=a.data.subType+a.data.type+"-详情")}))}}},d=m,c=e("2877"),C=Object(c["a"])(d,l,r,!1,null,"d0308fd4",null);t["default"]=C.exports}}]);