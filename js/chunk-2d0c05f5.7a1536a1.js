(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c05f5"],{4201:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"gc-canvas",on:{click:t.reloadPic}},[o("canvas",{attrs:{id:"gc-canvas",width:t.contentWidth,height:t.contentHeight}})])},r=[],a=o("0fea"),i={name:"JGraphicCode",props:{length:{type:Number,default:4},fontSizeMin:{type:Number,default:20},fontSizeMax:{type:Number,default:45},backgroundColorMin:{type:Number,default:180},backgroundColorMax:{type:Number,default:240},colorMin:{type:Number,default:50},colorMax:{type:Number,default:160},lineColorMin:{type:Number,default:40},lineColorMax:{type:Number,default:180},dotColorMin:{type:Number,default:0},dotColorMax:{type:Number,default:255},contentWidth:{type:Number,default:136},contentHeight:{type:Number,default:38},remote:{type:Boolean,default:!1,required:!1}},methods:{randomNum:function(t,e){return Math.floor(Math.random()*(e-t)+t)},randomColor:function(t,e){var o=this.randomNum(t,e),n=this.randomNum(t,e),r=this.randomNum(t,e);return"rgb("+o+","+n+","+r+")"},drawPic:function(){var t=this;this.randomCode().then((function(){var e=document.getElementById("gc-canvas"),o=e.getContext("2d");o.textBaseline="bottom",o.fillStyle=t.randomColor(t.backgroundColorMin,t.backgroundColorMax),o.fillRect(0,0,t.contentWidth,t.contentHeight);for(var n=0;n<t.code.length;n++)t.drawText(o,t.code[n],n);t.drawLine(o),t.drawDot(o),t.$emit("success",t.code)}))},drawText:function(t,e,o){t.fillStyle=this.randomColor(this.colorMin,this.colorMax);var n=this.randomNum(this.fontSizeMin,this.fontSizeMax);t.font=n+"px SimHei";var r=10,a=(this.contentWidth-40)/(this.code.length-1),i=r;o>0&&(i=r+o*a);var c=this.randomNum(this.fontSizeMax,this.contentHeight-5);n>40&&(c=40);var d=this.randomNum(-10,10);t.translate(i,c),t.rotate(d*Math.PI/180),t.fillText(e,0,0),t.rotate(-d*Math.PI/180),t.translate(-i,-c)},drawLine:function(t){for(var e=0;e<1;e++)t.strokeStyle=this.randomColor(this.lineColorMin,this.lineColorMax),t.beginPath(),t.moveTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.lineTo(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight)),t.stroke()},drawDot:function(t){for(var e=0;e<100;e++)t.fillStyle=this.randomColor(0,255),t.beginPath(),t.arc(this.randomNum(0,this.contentWidth),this.randomNum(0,this.contentHeight),1,0,2*Math.PI),t.fill()},reloadPic:function(){this.drawPic()},randomCode:function(){var t=this;return new Promise((function(e){1==t.remote?Object(a["c"])("/sys/getCheckCode").then((function(o){o.success?(t.checkKey=o.result.key,t.code=window.atob(o.result.code),e()):(t.$message.error("生成验证码错误,请联系系统管理员"),t.code="BUG",e())})).catch((function(){t.code="BUG",e()})):(t.randomLocalCode(),e())}))},randomLocalCode:function(){for(var t="",e="QWERTYUPLKJHGFDSAZXCVBNMqwertyupkjhgfdsazxcvbnm1234567890",o=0;o<this.length;o++){var n=Math.floor(57*Math.random());t+=e[n]}this.code=t},getLoginParam:function(){return{checkCode:this.code,checkKey:this.checkKey}}},mounted:function(){this.drawPic()},data:function(){return{code:"",checkKey:""}}},c=i,d=o("2877"),h=Object(d["a"])(c,n,r,!1,null,"cebedb58",null);e["default"]=h.exports}}]);